<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login & Signup</title>
  <style>
    body { font-family: Arial; background:#f0f0f0; display:flex; justify-content:center; align-items:center; height:100vh; }
    .box { background:white; padding:30px; border-radius:10px; box-shadow:0 0 10px gray; width:300px; }
    input { width:100%; padding:10px; margin:8px 0; border:1px solid #ccc; border-radius:5px; }
    button { width:100%; padding:10px; border:none; color:white; border-radius:5px; cursor:pointer; }
    .login-btn { background:#4CAF50; }
    .signup-btn { background:#2196F3; }
    a { color:#2196F3; cursor:pointer; }
    .msg { text-align:center; margin:10px 0; font-size:14px; }
  </style>
</head>
<body>
  <div class="box">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat, msg in messages %}
          <p class="msg {% if cat=='error' %}error{% elif cat=='success' %}success{% else %}info{% endif %}">{{ msg }}</p>

        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- LOGIN FORM -->
    <div id="loginForm">
      <h2 style="text-align:center; color:#4CAF50;">Login</h2>
      <form method="POST">
        <input type="hidden" name="action" value="login">
        <input type="text" name="username" placeholder="Username" required>
        <input type="password" name="password" placeholder="Password" required>
        <button type="submit" class="login-btn">Login</button>
      </form>
      <p style="text-align:center; margin-top:10px;">New user? <a onclick="showSignup()">Sign Up</a></p>
    </div>

    <!-- SIGNUP FORM -->
    <div id="signupForm" style="display:none;">
      <h2 style="text-align:center; color:#2196F3;">Sign Up</h2>
      <form method="POST">
        <input type="hidden" name="action" value="signup">
        <input type="text" name="name" placeholder="Full Name" required>
        <input type="email" name="email" placeholder="Email Address" required>
        <input type="text" name="username" placeholder="Choose Username" required>
        <input type="password" name="password" placeholder="Password" required>
        <button type="submit" class="signup-btn">Sign Up</button>
      </form>
      <p style="text-align:center; margin-top:10px;">Already registered? <a onclick="showLogin()">Login</a></p>
    </div>
  </div>

  <script>
    function showSignup(){
      document.getElementById("loginForm").style.display = "none";
      document.getElementById("signupForm").style.display = "block";
    }
    function showLogin(){
      document.getElementById("signupForm").style.display = "none";
      document.getElementById("loginForm").style.display = "block";
    }
  </script>
</body>
</html>
